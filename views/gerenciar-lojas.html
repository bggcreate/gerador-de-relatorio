<div class="container-fluid" style="max-width: 1200px;">
    <!-- Seção para Admin/Dev - Gerenciar Lojas -->
    <div id="secao-gerenciar-lojas" style="display: none;">
        <div class="d-flex justify-content-between align-items-center mb-4">
            <h1 class="h3 mb-0">Gerenciar Lojas</h1>
            <button class="btn btn-primary" id="btn-adicionar-loja"><i class="bi bi-plus-circle me-1"></i> Adicionar Nova Loja</button>
        </div>
        
        <div class="card">
            <div class="card-header">Lojas Cadastradas</div>
            <div class="card-body p-0">
                <div class="table-responsive">
                    <table class="table table-hover mb-0">
                        <thead>
                            <tr>
                                <th>Nome</th>
                                <th>Responsável / Email</th>
                                <th class="text-center">Total de Vendedores</th>
                                <th>Status</th>
                                <th class="text-end pe-3" style="min-width: 260px;">Ações</th>
                            </tr>
                        </thead>
                        <tbody id="tabela-lojas-corpo"></tbody>
                    </table>
                </div>
            </div>
        </div>
    </div>

    <!-- Seção para Gerente/Consultor - Gerenciar Vendedores -->
    <div id="secao-gerenciar-vendedores" style="display: none;">
        <div class="d-flex justify-content-between align-items-center mb-4">
            <h1 class="h3 mb-0">Gerenciar Vendedores</h1>
        </div>
        
        <div class="mb-3">
            <label for="select-loja-vendedores" class="form-label">Selecione a Loja:</label>
            <select class="form-select" id="select-loja-vendedores">
                <option value="">Selecione uma loja...</option>
            </select>
        </div>

        <div id="container-vendedores" style="display: none;">
            <div class="d-flex justify-content-between align-items-center mb-3">
                <h5 class="mb-0">Vendedores da Loja</h5>
                <button class="btn btn-primary btn-sm" id="btn-adicionar-vendedor"><i class="bi bi-plus-circle me-1"></i> Adicionar Vendedor</button>
            </div>
            
            <div class="card">
                <div class="card-body p-0">
                    <div class="table-responsive">
                        <table class="table table-hover mb-0">
                            <thead>
                                <tr>
                                    <th>Nome</th>
                                    <th>Telefone</th>
                                    <th>Data Entrada</th>
                                    <th>Data Demissão</th>
                                    <th>Previsão Entrada</th>
                                    <th>Previsão Saída</th>
                                    <th>Status</th>
                                    <th class="text-end pe-3">Ações</th>
                                </tr>
                            </thead>
                            <tbody id="tabela-vendedores-corpo"></tbody>
                        </table>
                    </div>
                </div>
            </div>
        </div>
    </div>
    
    <!-- Modal para Adicionar/Editar Loja -->
    <div class="modal fade" id="modal-loja" tabindex="-1" aria-labelledby="modalLojaLabel" aria-hidden="true">
        <div class="modal-dialog modal-dialog-centered">
            <div class="modal-content">
                <form id="form-loja">
                    <div class="modal-header">
                        <h5 class="modal-title" id="modalLojaLabel">Adicionar Loja</h5>
                        <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
                    </div>
                    <div class="modal-body">
                        <input type="hidden" id="loja-id">
                        <div class="mb-3">
                            <label for="loja-nome" class="form-label">Nome da Loja <span class="text-danger">*</span></label>
                            <input type="text" class="form-control" id="loja-nome" required>
                        </div>
                        <div class="mb-3">
                            <label for="loja-cep" class="form-label">CEP</label>
                            <input type="text" class="form-control" id="loja-cep" placeholder="00000-000">
                            <small class="text-muted">Opcional</small>
                        </div>
                        <div class="mb-3">
                            <label for="loja-numero-contato" class="form-label">Número de Contato</label>
                            <input type="tel" class="form-control" id="loja-numero-contato" placeholder="(00) 00000-0000">
                            <small class="text-muted">Opcional</small>
                        </div>
                        <div class="mb-3">
                            <label for="loja-gerente" class="form-label">Gerente</label>
                            <input type="text" class="form-control" id="loja-gerente">
                            <small class="text-muted">Opcional</small>
                        </div>
                        <div class="mb-3">
                            <label for="loja-status" class="form-label">Status</label>
                            <select class="form-select" id="loja-status">
                                <option value="ativa">Ativa</option>
                                <option value="inativa">Inativa</option>
                            </select>
                        </div>
                        <div class="mb-3">
                            <label for="loja-funcao-especial" class="form-label">Grupo da Loja (Função Especial)</label>
                            <select class="form-select" id="loja-funcao-especial">
                                <option value="" selected>Nenhuma</option>
                                <option value="Omni">Omni</option>
                                <option value="Busca por Assist. Tec.">Busca por Assist. Tec.</option>
                            </select>
                        </div>
                        <div class="mb-3">
                            <label for="loja-tecnico" class="form-label">Técnico Responsável</label>
                            <select class="form-select" id="loja-tecnico">
                                <option value="">Nenhum</option>
                            </select>
                            <small class="text-muted">Técnico que presta serviço nesta loja</small>
                        </div>
                        <div class="mb-3">
                            <label for="loja-observacoes" class="form-label">Observações</label>
                            <textarea class="form-control" id="loja-observacoes" rows="2"></textarea>
                        </div>
                    </div>
                    <div class="modal-footer">
                        <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancelar</button>
                        <button type="submit" class="btn btn-primary">Salvar</button>
                    </div>
                </form>
            </div>
        </div>
    </div>

    <!-- Modal para Detalhes da Loja (Vendedores) -->
    <div class="modal fade" id="modal-detalhes-loja" tabindex="-1" aria-labelledby="modalDetalhesLojaLabel" aria-hidden="true">
        <div class="modal-dialog modal-dialog-centered modal-xl">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="modalDetalhesLojaLabel">Detalhes da Loja</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
                </div>
                <div class="modal-body">
                    <div class="mb-3">
                        <h6 class="text-muted">Vendedores Vinculados</h6>
                        <button class="btn btn-primary btn-sm mb-3" id="btn-adicionar-vendedor-detalhes">
                            <i class="bi bi-plus-circle me-1"></i> Adicionar Vendedor
                        </button>
                    </div>
                    <div class="table-responsive">
                        <table class="table table-hover mb-0">
                            <thead>
                                <tr>
                                    <th>Nome</th>
                                    <th>Email / Telefone</th>
                                    <th>Status</th>
                                    <th class="text-end pe-3">Ações</th>
                                </tr>
                            </thead>
                            <tbody id="tabela-vendedores-detalhes"></tbody>
                        </table>
                    </div>
                    <div id="sem-vendedores" class="text-center text-muted py-3" style="display: none;">
                        Nenhum vendedor vinculado a esta loja.
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Fechar</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Modal para Adicionar/Editar Vendedor -->
    <div class="modal fade" id="modal-vendedor" tabindex="-1" aria-labelledby="modalVendedorLabel" aria-hidden="true">
        <div class="modal-dialog modal-dialog-centered modal-lg">
            <div class="modal-content">
                <form id="form-vendedor">
                    <div class="modal-header">
                        <h5 class="modal-title" id="modalVendedorLabel">Adicionar Vendedor</h5>
                        <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
                    </div>
                    <div class="modal-body">
                        <input type="hidden" id="vendedor-id">
                        <input type="hidden" id="vendedor-loja-id">
                        
                        <div class="row">
                            <div class="col-md-6 mb-3">
                                <label for="vendedor-nome" class="form-label">Nome Completo *</label>
                                <input type="text" class="form-control" id="vendedor-nome" required>
                            </div>
                            <div class="col-md-6 mb-3">
                                <label for="vendedor-telefone" class="form-label">Telefone *</label>
                                <input type="tel" class="form-control" id="vendedor-telefone" placeholder="(00) 00000-0000" required>
                            </div>
                        </div>
                        
                        <div class="row">
                            <div class="col-md-6 mb-3">
                                <label for="vendedor-data-entrada" class="form-label">Data de Entrada *</label>
                                <input type="date" class="form-control" id="vendedor-data-entrada" required>
                            </div>
                            <div class="col-md-6 mb-3">
                                <label for="vendedor-data-demissao" class="form-label">Data de Demissão</label>
                                <input type="date" class="form-control" id="vendedor-data-demissao">
                                <small class="text-muted">Deixe em branco se o vendedor estiver ativo</small>
                            </div>
                        </div>
                        
                        <div class="row">
                            <div class="col-md-6 mb-3">
                                <label for="vendedor-previsao-entrada" class="form-label">Previsão Entrada na Loja</label>
                                <input type="time" class="form-control" id="vendedor-previsao-entrada">
                            </div>
                            <div class="col-md-6 mb-3">
                                <label for="vendedor-previsao-saida" class="form-label">Previsão Saída da Loja</label>
                                <input type="time" class="form-control" id="vendedor-previsao-saida">
                            </div>
                        </div>
                    </div>
                    <div class="modal-footer">
                        <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancelar</button>
                        <button type="submit" class="btn btn-primary">Salvar</button>
                    </div>
                </form>
            </div>
        </div>
    </div>
</div>
